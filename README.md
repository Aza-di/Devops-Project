# Devops-Project

Этот проект демонстрирует развертывание простого веб-приложения на pytest с использованием Docker и Nginx. Приложение выводит сообщение "Hello, World!" и доступно через Nginx, настроенный как обратный прокси.

---

## Структура проекта

- `webapp/` — директория с кодом веб-приложения Flask.
  - `app.py` — основной файл приложения.
  - `requirements.txt` — файл с зависимостями Python.
  - `Dockerfile` — инструкция для создания Docker-образа приложения.

- `nginx/` — директория с конфигурацией Nginx.
  - `nginx.conf` — конфигурационный файл Nginx.
  - `Dockerfile` — инструкция для создания Docker-образа с Nginx.

- `docker-compose.yml` — файл для координации запуска контейнеров.

---

## Шаги запуска

### 1. Предварительные требования

- Установите Docker и Docker Compose на вашей машине и запустите ее через Vagrant.
- Vagrant (с англ. — «бродяга») — свободное и открытое программное обеспечение для создания и конфигурирования виртуальной среды разработки. Является обёрткой для программного обеспечения виртуализации, например VirtualBox, и средств управления конфигурациями, таких как Chef, Salt и Puppe
- Vagrant — это инструмент для создания и управления средами виртуальных машин в едином рабочем процессе . Благодаря простому в использовании рабочему процессу и фокусировке на автоматизации Vagrant сокращает время настройки среды разработки, повышает паритет производства и делает оправдание «работает на моей машине» пережитком прошлого.
- Убедитесь, что порты `80` и `5000` свободны.

### 2. Склонируйте репозиторий

```bash
git clone <URL>
cd project
```

### 3. Соберите и запустите контейнеры

```bash
docker-compose up --build
```

- Это создаст и запустит два контейнера:
  1. Контейнер с веб-приложением Flask.
  2. Контейнер с Nginx, настроенным как обратный прокси.

### 4. Откройте приложение в браузере

Перейдите по адресу:
```plaintext
web http://localhost:5000
nginx http://localhost:8080
```

Вы увидите сообщение: `Hello, World!`.
Вы увидите `nginx`

---

## Логи и отладка

- Для просмотра логов Docker:
  ```bash
  docker-compose logs -f
  ```

- Чтобы остановить контейнеры:
  ```bash
  docker-compose down
  docker-comose stop
  ```

---

## Дополнительно

- Для обновления приложения:
  - Внесите изменения в файлы в директории `webapp/`.
  - Пересоберите контейнеры:
    ```bash
    docker-compose up --build
    docker-compose up -d
    ```

- Для изменения конфигурации Nginx:
  - Внесите изменения в файл `nginx/nginx.conf`.
  - Пересоберите контейнеры.

---

## Примечания

- Убедитесь, что у вас есть доступ к портам, используемым в `docker-compose.yml`.
- Проект можно адаптировать для других языков или приложений, заменив содержимое директории `webapp/`.

- ## CI/CD
- CI/CD процесс сделан через GitHub Actions Piplines
- Где в корне файла был создан .github/workflows/ci-cd.yml где были прописаны jobs
- По данным jobs был успешно протестирован 
- Пункт с запуском Proxmox был заменен на Vagrant
- Но запуск через ssh не пройзведен но по желанию тоже можно запустить.


